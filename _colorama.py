import sys
from pathlib import Path
from colorama import init, Fore

# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è colorama –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –∫–æ–ª—å–æ—Ä–æ–≤–æ–≥–æ –≤–∏–≤–µ–¥–µ–Ω–Ω—è –≤ –∫–æ–Ω—Å–æ–ª—å
init(autoreset=True)

def display_directory_structure(directory_path, indent=''):

    # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞, —á–∏ —ñ—Å–Ω—É—î –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –∑–∞ –≤–∫–∞–∑–∞–Ω–∏–º —à–ª—è—Ö–æ–º
    directory = Path(directory_path)
    if not directory.is_dir():
        print(Fore.RED + f"–î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è '{directory_path}' –Ω–µ —ñ—Å–Ω—É—î –∞–±–æ –Ω–µ —î –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—î—é.")
        return

    # –í–∏–≤–µ–¥–µ–Ω–Ω—è —ñ–º–µ–Ω—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –∑ –∑–µ–ª–µ–Ω–∏–º –∫–æ–ª—å–æ—Ä–æ–º
    print(Fore.GREEN + indent + f"üìÅ {directory.name}")

    # –û–±—Ä–æ–±–∫–∞ –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤ (–ø—ñ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π —Ç–∞ —Ñ–∞–π–ª—ñ–≤) —É –¥–∞–Ω—ñ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó
    for item in directory.iterdir():
        if item.is_dir():
            # –í–∏–≤–µ–¥–µ–Ω–Ω—è —ñ–º–µ–Ω—ñ –ø—ñ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –∑ —Å–∏–Ω—ñ–º –∫–æ–ª—å–æ—Ä–æ–º
            print(Fore.BLUE + indent + "‚î£ üìÅ " + item.name)
            # –†–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –≤–∏–∫–ª–∏–∫ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –ø—ñ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π
            display_directory_structure(item, indent + "  ‚îÉ ")
        else:
            # –í–∏–≤–µ–¥–µ–Ω–Ω—è —ñ–º–µ–Ω—ñ —Ñ–∞–π–ª—É –∑ –∂–æ–≤—Ç–∏–º –∫–æ–ª—å–æ—Ä–æ–º
            print(Fore.YELLOW + indent + "‚î£ üìú " + item.name)

if __name__ == "__main__":
    # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∏ –±—É–≤ –ø–µ—Ä–µ–¥–∞–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ –∑ —à–ª—è—Ö–æ–º –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó
    if len(sys.argv) != 2:
        print("–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è: python script_name.py /—à–ª—è—Ö/–¥–æ/–¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó")
        sys.exit(1)

    # –û—Ç—Ä–∏–º–∞–Ω–Ω—è —à–ª—è—Ö—É –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞
    directory_path = sys.argv[1]

    # –í–∏–∫–ª–∏–∫ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó
    display_directory_structure(directory_path)